<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: cluster Pages: 1 -->
<svg width="1884pt" height="486pt"
 viewBox="0.00 0.00 1884.00 486.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 482)">
<title>cluster</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-482 1880,-482 1880,4 -4,4"/>
<g id="clust1" class="cluster">
<title>cluster</title>
<polygon fill="lightblue" stroke="lightblue" points="8,-166 8,-401 728,-401 728,-166 8,-166"/>
<text text-anchor="middle" x="368" y="-385.8" font-family="Times,serif" font-size="14.00">Kubernetes Cluster</text>
</g>
<!-- LB -->
<g id="node1" class="node">
<title>LB</title>
<polygon fill="none" stroke="black" points="571,-478 191,-478 187,-474 187,-442 567,-442 571,-446 571,-478"/>
<polyline fill="none" stroke="black" points="567,-474 187,-474 "/>
<polyline fill="none" stroke="black" points="567,-474 567,-442 "/>
<polyline fill="none" stroke="black" points="567,-474 571,-478 "/>
<text text-anchor="middle" x="379" y="-456.3" font-family="Times,serif" font-size="14.00">Digital Ocean Load Balancer with LetsEncrypt Cert</text>
</g>
<!-- NGINX -->
<g id="node2" class="node">
<title>NGINX</title>
<ellipse fill="none" stroke="black" cx="379" cy="-352" rx="119.68" ry="18"/>
<text text-anchor="middle" x="379" y="-348.3" font-family="Times,serif" font-size="14.00">Nginx Ingress Gateway</text>
</g>
<!-- LB&#45;&gt;NGINX -->
<g id="edge1" class="edge">
<title>LB&#45;&gt;NGINX</title>
<path fill="none" stroke="black" d="M379,-441.97C379,-425.38 379,-399.88 379,-380.43"/>
<polygon fill="black" stroke="black" points="382.5,-380.34 379,-370.34 375.5,-380.34 382.5,-380.34"/>
<text text-anchor="middle" x="501" y="-412.8" font-family="Times,serif" font-size="14.00">SSL Termination; HTTPS &#45;&gt; HTTP</text>
</g>
<!-- Blair -->
<g id="node3" class="node">
<title>Blair</title>
<ellipse fill="none" stroke="black" cx="560" cy="-279" rx="159.77" ry="18"/>
<text text-anchor="middle" x="560" y="-275.3" font-family="Times,serif" font-size="14.00">Ingress blair.happylittlecloud.ca</text>
</g>
<!-- NGINX&#45;&gt;Blair -->
<g id="edge4" class="edge">
<title>NGINX&#45;&gt;Blair</title>
<path fill="none" stroke="black" d="M419.62,-335.07C445.82,-324.79 480.13,-311.33 508.27,-300.29"/>
<polygon fill="black" stroke="black" points="509.91,-303.41 517.94,-296.5 507.36,-296.89 509.91,-303.41"/>
</g>
<!-- DatasetteSvc -->
<g id="node4" class="node">
<title>DatasetteSvc</title>
<ellipse fill="none" stroke="black" cx="199" cy="-279" rx="183.07" ry="18"/>
<text text-anchor="middle" x="199" y="-275.3" font-family="Times,serif" font-size="14.00">Ingress datasette.happylittlecloud.ca</text>
</g>
<!-- NGINX&#45;&gt;DatasetteSvc -->
<g id="edge2" class="edge">
<title>NGINX&#45;&gt;DatasetteSvc</title>
<path fill="none" stroke="black" d="M338.16,-334.89C312.18,-324.64 278.31,-311.28 250.5,-300.31"/>
<polygon fill="black" stroke="black" points="251.52,-296.95 240.93,-296.54 248.95,-303.47 251.52,-296.95"/>
</g>
<!-- Page -->
<g id="node6" class="node">
<title>Page</title>
<polygon fill="yellow" stroke="black" points="822,-210 736,-210 736,-174 822,-174 822,-210"/>
<text text-anchor="middle" x="779" y="-188.3" font-family="Times,serif" font-size="14.00">This Page</text>
</g>
<!-- Blair&#45;&gt;Page -->
<g id="edge5" class="edge">
<title>Blair&#45;&gt;Page</title>
<path fill="none" stroke="black" d="M602.23,-261.61C637.63,-247.87 688.36,-228.18 726.4,-213.42"/>
<polygon fill="black" stroke="black" points="727.73,-216.66 735.78,-209.77 725.19,-210.13 727.73,-216.66"/>
<text text-anchor="middle" x="853.5" y="-231.8" font-family="Times,serif" font-size="14.00">Service rewrites route to index.html file in CDN</text>
</g>
<!-- DatasettePod -->
<g id="node5" class="node">
<title>DatasettePod</title>
<polygon fill="none" stroke="black" points="257.5,-210 140.5,-210 140.5,-174 257.5,-174 257.5,-210"/>
<text text-anchor="middle" x="199" y="-188.3" font-family="Times,serif" font-size="14.00">Datasette Pod</text>
</g>
<!-- DatasetteSvc&#45;&gt;DatasettePod -->
<g id="edge3" class="edge">
<title>DatasetteSvc&#45;&gt;DatasettePod</title>
<path fill="none" stroke="black" d="M199,-260.8C199,-249.16 199,-233.55 199,-220.24"/>
<polygon fill="black" stroke="black" points="202.5,-220.18 199,-210.18 195.5,-220.18 202.5,-220.18"/>
</g>
<!-- Assets -->
<g id="node7" class="node">
<title>Assets</title>
<polygon fill="#99dd00" stroke="black" points="852,-123 706,-123 706,-87 852,-87 852,-123"/>
<text text-anchor="middle" x="779" y="-101.3" font-family="Times,serif" font-size="14.00">This Page&#39;s assets</text>
</g>
<!-- Page&#45;&gt;Assets -->
<g id="edge6" class="edge">
<title>Page&#45;&gt;Assets</title>
<path fill="none" stroke="black" d="M751.76,-173.95C745.48,-170.76 738.68,-167.85 732,-166 710.77,-160.13 549.18,-171.96 534,-156 529.41,-151.17 529.63,-146.04 534,-141 554.77,-117.06 632.97,-109.09 695.51,-106.63"/>
<polygon fill="black" stroke="black" points="695.93,-110.12 705.8,-106.27 695.68,-103.12 695.93,-110.12"/>
<text text-anchor="middle" x="645.5" y="-144.8" font-family="Times,serif" font-size="14.00">Statically link to assets in CDN</text>
</g>
<!-- Page&#45;&gt;Assets -->
<g id="edge8" class="edge">
<title>Page&#45;&gt;Assets</title>
<path fill="none" stroke="black" d="M779,-173.8C779,-162.16 779,-146.55 779,-133.24"/>
<polygon fill="black" stroke="black" points="782.5,-133.18 779,-123.18 775.5,-133.18 782.5,-133.18"/>
<text text-anchor="middle" x="934" y="-144.8" font-family="Times,serif" font-size="14.00">Page contains hrefs to static assets in CDN</text>
</g>
<!-- CDN -->
<g id="node8" class="node">
<title>CDN</title>
<path fill="none" stroke="black" d="M1206,-32.73C1206,-34.53 1160.28,-36 1104,-36 1047.72,-36 1002,-34.53 1002,-32.73 1002,-32.73 1002,-3.27 1002,-3.27 1002,-1.47 1047.72,0 1104,0 1160.28,0 1206,-1.47 1206,-3.27 1206,-3.27 1206,-32.73 1206,-32.73"/>
<path fill="none" stroke="black" d="M1206,-32.73C1206,-30.92 1160.28,-29.45 1104,-29.45 1047.72,-29.45 1002,-30.92 1002,-32.73"/>
<text text-anchor="middle" x="1104" y="-14.3" font-family="Times,serif" font-size="14.00">Content Delivery Network</text>
</g>
<!-- Page&#45;&gt;CDN -->
<g id="edge7" class="edge">
<title>Page&#45;&gt;CDN</title>
<path fill="none" stroke="black" d="M822.25,-189.1C903.29,-185.12 1071.51,-174.68 1090,-156 1104.82,-141.02 1105.87,-81.72 1105.09,-46.23"/>
<polygon fill="black" stroke="black" points="1108.58,-45.96 1104.8,-36.06 1101.58,-46.16 1108.58,-45.96"/>
<text text-anchor="middle" x="1205" y="-101.3" font-family="Times,serif" font-size="14.00">Page resolved to file in CDN</text>
</g>
<!-- Assets&#45;&gt;CDN -->
<g id="edge9" class="edge">
<title>Assets&#45;&gt;CDN</title>
<path fill="none" stroke="black" d="M806.08,-86.82C824.76,-75.76 850.53,-62 875,-54 912.11,-41.87 954,-33.91 991.72,-28.69"/>
<polygon fill="black" stroke="black" points="992.27,-32.15 1001.72,-27.36 991.35,-25.21 992.27,-32.15"/>
<text text-anchor="middle" x="982.5" y="-57.8" font-family="Times,serif" font-size="14.00">static assets pulled from CDN</text>
</g>
<!-- S3 -->
<g id="node9" class="node">
<title>S3</title>
<path fill="none" stroke="black" d="M1526,-119.73C1526,-121.53 1480.73,-123 1425,-123 1369.27,-123 1324,-121.53 1324,-119.73 1324,-119.73 1324,-90.27 1324,-90.27 1324,-88.47 1369.27,-87 1425,-87 1480.73,-87 1526,-88.47 1526,-90.27 1526,-90.27 1526,-119.73 1526,-119.73"/>
<path fill="none" stroke="black" d="M1526,-119.73C1526,-117.92 1480.73,-116.45 1425,-116.45 1369.27,-116.45 1324,-117.92 1324,-119.73"/>
<text text-anchor="middle" x="1425" y="-101.3" font-family="Times,serif" font-size="14.00">Digital Ocean Spaces (S3)</text>
</g>
<!-- S3&#45;&gt;CDN -->
<g id="edge10" class="edge">
<title>S3&#45;&gt;CDN</title>
<path fill="none" stroke="black" d="M1361.58,-87.21C1308.58,-73.17 1232.95,-53.15 1177.35,-38.42"/>
<polygon fill="black" stroke="black" points="1178.12,-35.01 1167.56,-35.83 1176.33,-41.77 1178.12,-35.01"/>
<text text-anchor="middle" x="1435.5" y="-57.8" font-family="Times,serif" font-size="14.00">CDN Cache populated from Spaces Bucket</text>
</g>
<!-- GIT -->
<g id="node10" class="node">
<title>GIT</title>
<polygon fill="none" stroke="black" points="1464.5,-210 1461.5,-214 1440.5,-214 1437.5,-210 1385.5,-210 1385.5,-174 1464.5,-174 1464.5,-210"/>
<text text-anchor="middle" x="1425" y="-188.3" font-family="Times,serif" font-size="14.00">Git Repo</text>
</g>
<!-- GIT&#45;&gt;S3 -->
<g id="edge11" class="edge">
<title>GIT&#45;&gt;S3</title>
<path fill="none" stroke="black" d="M1425,-173.8C1425,-162.16 1425,-146.55 1425,-133.24"/>
<polygon fill="black" stroke="black" points="1428.5,-133.18 1425,-123.18 1421.5,-133.18 1428.5,-133.18"/>
<text text-anchor="middle" x="1650.5" y="-144.8" font-family="Times,serif" font-size="14.00">An Argo Event+Workflow syncs the S3 bucket on new commits</text>
</g>
</g>
</svg>
